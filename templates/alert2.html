<!DOCTYPE html>
<html lang="en">

<head>
  <title>Production status | Ekak</title>
  <!-- HTML5 Shim and Respond.js IE11 support of HTML5 elements and media queries -->
  <!-- WARNING: Respond.js doesn't work if you view the page via file:// -->
  <!--[if lt IE 11]>
    	<script src="https://oss.maxcdn.com/libs/html5shiv/3.7.0/html5shiv.js"></script>
    	<script src="https://oss.maxcdn.com/libs/respond.js/1.4.2/respond.min.js"></script>
    	<![endif]-->
  <!-- Meta -->
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta name="description" content="Ekak Innovation | Argus">
  <meta name="keywords" content="Ekak,Argus,Innovation,EkakInn,ArgusEkak">
  <meta name="author" content="Argus">
  <link rel="shortcut icon" href="{{ url_for('static',filename='favicon.ico')}}">

  <!-- vendor css -->
  <link rel="stylesheet" href="{{ url_for('static' , filename='css/style.css') }}">
  <link rel="stylesheet" href="https://cdn.datatables.net/1.13.4/css/jquery.dataTables.min.css">
  <link rel="stylesheet" href="https://cdn.datatables.net/buttons/2.3.6/css/buttons.dataTables.min.css">

  <style>
    tfoot input {
      width: 100%;
      padding: 3px;
      box-sizing: border-box;
    }

    @media (max-width: 768px) {
      .card-header .btn-group .btn {
        width: 100%;
      }
    }
  </style>
  <style>
    @import url('https://fonts.googleapis.com/css2?family=Red+Hat+Display:ital,wght@0,430;1,430&display=swap');
  </style>


  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/flatpickr/dist/flatpickr.min.css">
  <style>
    body {
      background: #f9f9f9;
      font-family: 'Segoe UI', sans-serif;
    }

    .card {
      box-shadow: 0 0 10px rgba(0, 0, 0, 0.05);
      border: none;
      border-radius: 10px;
    }

    .info-icon {
      width: 12px;
      height: 12px;
      margin-left: 6px;
      cursor: pointer;
    }

    #loadingScreen {
      display: none;
      position: fixed;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      background: rgba(255, 255, 255, 0.85);
      z-index: 9999;
      display: flex;
      align-items: center;
      justify-content: center;
    }

    .loading-card {
      background: white;
      padding: 20px;
      border-radius: 10px;
      box-shadow: 0 4px 8px rgba(0, 0, 0, 0.2);
      display: flex;
      flex-direction: column;
      align-items: center;
      justify-content: center;
      text-align: center;
    }

    #loading-text {
      font-size: 18px;
      margin-top: 10px;
    }


    .card-transit {
      border: none;
      border-radius: 10px;
      box-shadow: 0 0 10px rgba(0, 0, 0, 0.05);
      padding: 20px;
      margin-bottom: 20px;
      background-color: white;
    }

    .bar-label-transit {
      display: flex;
      justify-content: space-between;
    }

    .bar-transit {
      height: 6px;
      background-color: white;
      border-radius: 3px;
      margin: 5px 0;
      position: relative;
    }

    .bar-fill-transit {
      height: 100%;
      border-radius: 3px;
      background-color: #4CAF50;
      position: absolute;
      top: 0;
      left: 0;
    }

    .table-responsive {
      font-size: 14px;
    }

    .tooltip-inner {
      background-color: #fff !important;
      color: #000 !important;
      border: 1px solid #ccc;
    }

    .tooltip.bs-tooltip-top .tooltip-arrow::before,
    .tooltip.bs-tooltip-bottom .tooltip-arrow::before,
    .tooltip.bs-tooltip-start .tooltip-arrow::before,
    .tooltip.bs-tooltip-end .tooltip-arrow::before {
      border-color: #fff !important;
    }
  </style>

</head>

<body class="" style="background-color: #F2F1F1;font-family: 'Red Hat Display', serif;
font-optical-sizing: auto;
font-weight: 430;
font-style: normal;">


  <div id="loadingScreen">
    <div id="loaderContent" class="loading-card">
      <div class="spinner-border text-primary" role="status"></div>
      <p id="loading-text"> Finalizing results to deliver precise observations</p>
    </div>
  </div>
  <nav class="pcoded-navbar menu-light ">

    <div class="navbar-content scroll-div ">

      <!-- Import from base  -->

      {% include "base_admin__side_bar.html" %}
      <div class="bottom">
        <img src="/static/images/Group 1.png" alt="Upgrade to Pro Plan" />

        <!-- <div class="container-fluid px-0">
                      <div class="row align-items-center footer-bottom">
                        <div class="col-auto mt-3">
                          <img src="/static/images/Argus Updated Logo (2).png" alt="Logo" class="footer-logo" />
                        </div>
                        <div class="col text-end">
                          <div class="help-text">Need Help ?</div>
                        </div>
                      </div>
                    </div> -->
      </div>

      <style>
        .bottom {
          width: 100%;
          padding: 0 15px;
          margin-top: 50px;
        }

        .bottom img:first-child {
          width: 100%;
          display: block;
          margin: 0 auto 15px auto;
          border-radius: 10px;
        }

        .footer-bottom {
          white-space: nowrap;
        }

        .footer-logo {
          height: 30px;
          width: 18px;
          justify-content: center;
        }

        .help-text {
          font-size: 12px;
          color: black;
        }
      </style>


    </div>

  </nav>
  <!-- [ navigation menu ] end -->
  <!-- [ Header ] start -->
  {% include "base_header.html" %}




  <!-- [ Header ] end -->
<style>
    /* Reset default body spacing */
    body {
      margin: 0;
      padding: 0;
    }

    /* Custom header styling */
    .safety-header {
      padding: 1rem 1.5rem;
      /* top/bottom 16px, left/right 24px */
      background-color: none;
      display: flex;
      align-items: center;
      justify-content: space-between;
      box-shadow: 0 1px 3px rgba(0, 0, 0, 0);
    }

    .safety-header h4 {
      margin: 0;
      font-size: 1.25rem;
      font-weight: 600;
    }

    .safety-header .controls {
      display: flex;
      align-items: center;
      gap: 0.75rem;
      border-radius: 5px;
      border-color: #000;
    }

    @media (max-width: 576px) {
      .safety-header {
        flex-direction: column;
        align-items: stretch;
        gap: 0.75rem;
      }

      .safety-header .controls {
        justify-content: flex-end;
      }
    }

    .bd {
      background-color: #0A5D6B;
      color: #fff;
      border-radius: 10px;
    }

    .bds {
      width: 25px;
      border-radius: 50px;
    }
  </style>

  <div class="pcoded-main-container">
    <div class="pcoded-content" style="background-color: #F2F1F1;">
      <!-- [ breadcrumb ] start -->
       <div class="page-header">
        <div class="page-block">
          <div class="row align-items-center">
            <div class="col-md-12">
              <ul class="breadcrumb">
                <!-- <li class="breadcrumb-item"><a href="index.html"><i class="feather icon-home"></i></a></li> -->
                <li class="breadcrumb-item"><a href="#!"> Home > Transit Record</a></li>
              </ul>
              <!-- <div class="page-header-title">
                <h5 class="m-b-10" style="font-size:18px; font-weight:bold;">Safety Report</h5>
              </div> -->
              <header class="safety-header">
                <h4>Transit Record</h4> 
                <div class="controls">
                  <div class="input-group input-group-sm search-group">
                    <span class="input-group-text bg-white border-end-0"><i class="bi bi-search"></i></span>
                    <input type="search" class="form-control border-start-0" placeholder="Search" aria-label="Search">
                  </div>
                  <button class="btn bd btn-sm">Download</button>
                  <button class="btn  btn-warning btn-sm  "><img src="../static/images/Message circle.png" alt=""
                      class="bds"></button>
                  <button class="btn btn-warning btn-sm"><img src="../static/images/account_circle.png" alt=""
                      class="bds"></button>
                  <button class="btn btn-warning btn-sm"><img src="../static/images/Shutdown.png" alt=""
                      class="bds"></button>
                </div>
              </header>

            </div>
          </div>


        </div>
      </div>





      <div class="row align-items-center mt-4" style="padding:10px">
        <!-- Left side: Date Range and Save Button in a Row inside col-md-6 -->

        <div class="row">
          <!-- Start Date Selector -->
          <div class="col-auto">
            <div class="input-group">
              <input type="text" id="dateRangeSelector" placeholder="DD/MM/YY" class="form-control ml-1"
                style="border-radius: 8px; padding-left: 10px;background-color:#fff">
            </div>
          </div>



          <!-- Save Button -->
          <div class="col-auto">
            <!-- <button class="btn" id="save-time" style="border-radius: 12px; background-color:#0c6980; color:white">
                                Sort
                            </button> -->
            <div class="input-group">
              <input type="date" id="dateRangeSelector" placeholder="DD/MM/YY" class="form-control ml-1"
                style="border-radius: 8px; padding-left: 10px;background-color:#fff">
            </div>
          </div>

        </div>



      </div>

      <style>
        #startTimeSelector:focus,
        #endTimeSelector:focus,
        #dateRangeSelector:focus {
          border-color: #0c6980 !important;

          outline: none !important;
        }

        #startTimeSelector:hover,
        #endTimeSelector:hover,
        #dateRangeSelector:focus {
          border-color: #0c6980 !important;

        }


        .flatpickr-calendar {
          border-radius: 15px !important;
          border: 2px solid #0c6980 !important;
          background-color: #f1f1f1;
        }


        .flatpickr-day.selected {
          background-color: #0c6980 !important;
          color: #fff !important;
          border-radius: 50% !important;
        }

        .flatpickr-day {
          border-radius: 0 !important;
        }


        .flatpickr-day:hover {
          background-color: #0c6980 !important;
          color: #fff !important;
          cursor: pointer;
        }

        @media (max-width: 576px) {
          .input-group input {
            font-size: 12px !important;
            padding: 2px 4px !important;
            width: 150px !important;
          }

          #save-time {
            font-size: 12px !important;
            padding: 8px 10px !important;
            width: 290px;
            border-radius: 10px;
            margin-top: 5px;

          }

          .col-auto {
            flex: 1 1 auto;
            text-align: center;
          }

          .row.g-2 {
            gap: 2px;
            justify-content: center;
          }
        }
      </style>

      <script>
        document.addEventListener('DOMContentLoaded', function () {

          flatpickr("#dateRangeSelector", {
            mode: "range",
            dateFormat: "Y-m-d",
            onClose: function (selectedDates) {
              if (selectedDates.length === 2) {
                let startDate = new Date(selectedDates[0]);
                let endDate = new Date(selectedDates[1]);

                let dateArray = [];
                let currentDate = startDate;

                while (currentDate <= endDate) {
                  let adjustedDate = new Date(currentDate);
                  adjustedDate.setMinutes(adjustedDate.getMinutes() - adjustedDate.getTimezoneOffset());
                  dateArray.push(adjustedDate.toISOString().split('T')[0]);
                  currentDate.setDate(currentDate.getDate() + 1);
                }


                document.getElementById('save-time').dataset.selectedDates = JSON.stringify(dateArray);
              }
            }
          });
        });

        document.getElementById('save-time').addEventListener('click', function () {
          const selectedDates = this.dataset.selectedDates;


          let url = `{{ url_for('alert2') }}?`;

          // Append selected date range
          if (selectedDates) {
            url += `selectedDates=${selectedDates}`;
          }


          window.location.href = url;
        });
      </script>



      <div class="container mt-4">
        <!-- First Row -->
        <div class="row g-3">
          <!-- Left Column with two stacked cards -->
          <div class="col-md-6">
            <div class="row g-3">
              <div class="col-12">
                <div class="card-transit graph-transit">
                  <h6>Package Handle</h6>
                  <canvas id="packageHandleChart"></canvas>
                </div>
              </div>
              <!-- Space Occupancy Card -->
              <div class="col-12">
                <div class="card-transit space-occupancy-card shadow-sm">
                  <div class="d-flex justify-content-between align-items-center mb-2">
                    <div class="d-flex align-items-center">
                      <h6 class="mb-0 me-2">Space Occupancy Level</h6>
                      <i class="bi bi-info-circle" style="font-size: 14px; color: #888;"></i>
                    </div>
                    <select class="form-select form-select-sm w-auto" id="occupancyFilter">
                      <option>Daily</option>
                      <option>Weekly</option>
                      <option>Monthly</option>
                    </select>
                  </div>

                  <canvas id="spaceOccupancyChart"></canvas>
                </div>
              </div>

              <!-- Styles -->
              <style>
                .space-occupancy-card {
                  background: #fff;
                  border-radius: 10px;

                }

                .dot {
                  display: inline-block;
                  height: 5px;
                  width: 10px;

                }

                .form-select-sm {
                  font-size: 0.875rem;
                  padding: 2px 8px;
                  border-radius: 6px;
                }

                canvas {
                  max-width: 100%;
                }
              </style>

              <!-- Chart.js CDN -->
              <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>

              <!-- Chart Plugin for Green Line -->
              <script>
                const greenLinePlugin = {
                  id: 'greenLine',
                  beforeDraw: chart => {
                    const yScale = chart.scales['y'];
                    const ctx = chart.ctx;
                    const yValue = yScale.getPixelForValue(80);

                    ctx.save();
                    ctx.beginPath();
                    ctx.moveTo(chart.chartArea.left, yValue);
                    ctx.lineTo(chart.chartArea.right, yValue);
                    ctx.lineWidth = 2;
                    ctx.strokeStyle = 'green';
                    ctx.setLineDash([6, 6]);
                    ctx.stroke();
                    ctx.restore();
                  }
                };
              </script>

              <!-- Chart Code -->
              <script>
                const totalSlots = 100;

                const occupiedData = [...Array(24).keys()].map(() => Math.floor(Math.random() * 50 + 20));
                const availableData = occupiedData.map(val => totalSlots - val);

                new Chart(document.getElementById('spaceOccupancyChart'), {
                  type: 'bar',
                  data: {
                    labels: [...Array(24).keys()].map(i => i + 1),
                    datasets: [
                      {
                        label: 'Occupied Space',
                        data: occupiedData,
                        backgroundColor: '#0097B2',
                        barThickness: 10,
                        borderRadius: 6
                      },
                      {
                        label: 'Available Space',
                        data: availableData,
                        backgroundColor: '#20c997',
                        barThickness: 10,
                        borderRadius: 6,
                        hidden: true
                      }
                    ]
                  },
                  options: {
                    responsive: true,
                    plugins: {
                      legend: {
                        display: true,
                        labels: {
                          boxWidth: 12
                        }
                      },
                      tooltip: {
                        mode: 'index',
                        intersect: false
                      }
                    },
                    scales: {
                      x: {
                        stacked: true,
                        grid: {
                          display: false
                        }
                      },
                      y: {
                        stacked: true,
                        beginAtZero: true,
                        max: totalSlots,
                        ticks: {
                          stepSize: 20
                        },
                        grid: {
                          color: "#f0f0f0",
                          borderDash: [4, 4]
                        }
                      }
                    }
                  },
                  plugins: [greenLinePlugin]
                });
              </script>




            </div>
          </div>




          <div class="col-md-6">
            <div class="card-transit d-flex flex-column">
              <!-- Top section - Anomalies Factor -->
              <div class="flex-fill pe-2">
                <h6>Anomalies Factor</h6>

                <div class="mb-2 mt-4">Unevenly Stacked
                  <div class="d-flex align-items-center mt-2">
                    <div class="progress mt-2 flex-grow-1 me-2" style="height: 14px;">
                      <div class="progress-bar" style="width: 45%;background-color:#FF5900"></div>
                    </div>
                    <span class="text-black" style="font-size: 13px;">45%</span>
                  </div>
                </div>

                <div class="mb-2 mt-3">Label-Less Item
                  <div class="d-flex align-items-center mt-2">
                    <div class="progress mt-2 flex-grow-1 me-2" style="height: 14px;">
                      <div class="progress-bar " style="width: 32%;background-color:#FF5900"></div>
                    </div>
                    <span class="text-black" style="font-size: 13px;">32%</span>
                  </div>
                </div>

                <div class="mb-2 mt-3">Overstock
                  <div class="d-flex align-items-center mt-2">
                    <div class="progress mt-2 flex-grow-1 me-2" style="height: 14px;">
                      <div class="progress-bar " style="width: 34%;background-color:#FF5900"></div>
                    </div>
                    <span class="text-black" style="font-size: 13px;">34%</span>
                  </div>
                </div>

                <div class="mt-3">Understock
                  <div class="d-flex align-items-center ">
                    <div class="progress mt-2 flex-grow-1 me-2" style="height: 14px;">
                      <div class="progress-bar " style="width: 45%;background-color:#FF5900"></div>
                    </div>
                    <span class="text-black" style="font-size: 13px;">45%</span>
                  </div>
                </div>
              </div>

              <div class="hr1" style="margin-top:55px">
                <hr>
              </div>

              <!-- Bottom section - Efficiency Score -->
              <div class="flex-fill ">
                <h6 class="mt-4">Efficiency Score</h6>

                <div class="mb-2 mt-4">Loading Efficiency
                  <div class="d-flex align-items-center">
                    <div class="progress mt-3 flex-grow-1 me-2" style="height: 14px;">
                      <div class="progress-bar" style="width: 55%;background-color:#83C991"></div>
                    </div>
                    <span class="text-black" style="font-size: 13px;">55%</span>
                  </div>
                </div>

                <div class="mb-2 mt-3">Downtime
                  <div class="d-flex align-items-center">
                    <div class="progress  mt-3 flex-grow-1 me-2" style="height: 14px;">
                      <div class="progress-bar " style="width: 25%;background-color:#83C991"></div>
                    </div>
                    <span class="text-black" style="font-size: 13px;">25%</span>
                  </div>
                </div>

                <div class="mb-2 mt-3">Throughput Rate
                  <div class="d-flex align-items-center">
                    <div class="progress mt-3 flex-grow-1 me-2" style="height: 14px;">
                      <div class="progress-bar " style="width: 35%;background-color:#83C991"></div>
                    </div>
                    <span class="text-black" style="font-size: 13px;">35%</span>
                  </div>
                </div>

                <div class="mb-2 mt-3">Productivity Score
                  <div class="d-flex align-items-center">
                    <div class="progress mt-3 flex-grow-1 me-2" style="height: 14px;">
                      <div class="progress-bar " style="width: 75%;background-color:#83C991"></div>
                    </div>
                    <span class="text-black" style="font-size: 13px;">75%</span>
                  </div>
                </div>

                <div class="mt-3">Stacking Pattern Consistency
                  <div class="d-flex align-items-center">
                    <div class="progress mt-3 flex-grow-1 me-2" style="height: 14px;">
                      <div class="progress-bar" style="width: 15%;background-color:#83C991"></div>
                    </div>
                    <span class="text-black" style="font-size: 13px;">15%</span>
                  </div>
                </div>
              </div>
            </div>
          </div>
          <!-- Right Column with single card containing two sections -->


        </div>




        <!-- Loading-Unloading Cycle Chart Card -->
        <div class="card-transit p-4 bg-white mb-4">
          <h5 class="mb-3">Loading-Unloading Cycle</h5>
          <div class="chart-legend mb-2">
            <span class="legend-item" style="color: #FFC518;"> ● Loading Time</span>
            <span class="legend-item" style="color: #0097B2;"> ● Unloading Time</span>
            <span class="legend-item" style="color: #db4437;"> ● Idle Time</span>
          </div>
          <div class="chart-container">
            <div id="loadingChart"></div>
          </div>
        </div>

        <style>
          .chart-container {
            width: 100%;
            overflow-x: auto;
            padding: 10px
          }

          #loadingChart {
            display: flex;
            flex-direction: column;
            gap: 12px;
          }

          .chart-row {
            display: flex;
            align-items: center;
            font-size: 12px;
          }

          .chart-row span {
            width: 50px;
            flex-shrink: 0;
          }

          .bar-container {
            flex-grow: 1;
            display: flex;
            height: 20px;
          }

          .bar {
            height: 100%;
          }

          .loading {
            background-color: #FFC518;
          }

          .unloading {
            background-color: #0097B2
          }

          .idle {
            background-color: #db4437;
          }

          .legend-item {
            font-size: 12px;
            margin-right: 15px;
          }

          @media (max-width: 768px) {
            .chart-row span {
              width: 40px;
              font-size: 11px;
            }

            .legend-item {
              font-size: 11px;
            }
          }
        </style>

        <script>
          const chartData = [
            { date: '11 May', segments: ['loading', 'idle', 'unloading', 'idle', 'loading'] },
            { date: '12 May', segments: ['unloading', 'idle', 'loading', 'idle', 'unloading'] },
            { date: '13 May', segments: ['idle', 'loading', 'unloading', 'idle', 'loading'] },
            { date: '14 May', segments: ['loading', 'unloading', 'idle', 'loading', 'idle'] },
            { date: '15 May', segments: ['idle', 'loading', 'unloading', 'idle', 'loading'] },
            { date: '16 May', segments: ['loading', 'unloading', 'idle', 'unloading', 'idle'] },
            { date: '17 May', segments: ['unloading', 'idle', 'loading', 'unloading', 'idle'] },
          ];

          const chartContainer = document.getElementById('loadingChart');

          chartData.forEach(row => {
            const rowDiv = document.createElement('div');
            rowDiv.className = 'chart-row';

            const label = document.createElement('span');
            label.textContent = row.date;
            rowDiv.appendChild(label);

            const barContainer = document.createElement('div');
            barContainer.className = 'bar-container';

            const segmentWidth = 100 / row.segments.length;

            row.segments.forEach(type => {
              const bar = document.createElement('div');
              bar.className = `bar ${type}`;
              bar.style.width = `${segmentWidth}%`;
              barContainer.appendChild(bar);
            });

            rowDiv.appendChild(barContainer);
            chartContainer.appendChild(rowDiv);
          });
        </script>





        <!-- Production Log Table -->
        <div class="card-transit p-4 bg-white">
          <div class="d-flex justify-content-between align-items-center mb-3">
            <!-- Left side: Title + icon -->
            <h6 style="font-size:18px; font-weight:bold; margin-bottom: 0;">
              Transit Record
              <img src="/static/images/i_icon.png" class="info-icon" data-bs-toggle="tooltip" data-bs-placement="top"
                title="Chronological log of production activities." />
            </h6>

            <!-- Right side: Yellow circular button -->
            <a href="{{ url_for('transit_log') }}" class="btn btn-sm"
              style="background-color: #F5A623; color:white; border-radius: 50%; width: 24px; height: 25px; display: flex; align-items: center; justify-content: center; text-decoration: none; font-size: 18px; font-weight: bold;">
              &gt;
            </a>
          </div>

          <div class="table-responsive">
            <table class="table table-bordered align-middle mb-0">
              <thead class="table-light">
                <tr>
                  <th>Video ID</th>
                  <th>Date</th>
                  <th>Time</th>
                  <th>Dock Activity</th>
                  <th>Issue Detected</th>
                  <th>Item Handle</th>
                  <th>Avg. Processin  g Time</th>
                </tr>
              </thead>
              <tbody>
                <tr>
                  <td>#QW7890</td>
                  <td>11.01.25</td>
                  <td>01:21:55</td>
                  <td>Unloading</td>
                  <td>2</td>
                  <td>10</td>
                  <td>12 sec</td>
                </tr>
                <tr>
                  <td>#QW7891</td>
                  <td>11.01.25</td>
                  <td>01:20:17</td>
                  <td>Loading</td>
                  <td>1</td>
                  <td>12</td>
                  <td>12.2 sec</td>
                </tr>
                <tr>
                  <td>#QW7892</td>
                  <td>11.01.25</td>
                  <td>01:18:44</td>
                  <td>Loading</td>
                  <td>2</td>
                  <td>11</td>
                  <td>12.1 sec</td>
                </tr>
                <tr class="highlight-transit">
                  <td>#QW7893</td>
                  <td>11.01.25</td>
                  <td>01:16:12</td>
                  <td>Unloading</td>
                  <td>3</td>
                  <td>10</td>
                  <td>26.7 sec</td>
                </tr>
                <tr>
                  <td>#QW7894</td>
                  <td>11.01.25</td>
                  <td>01:15:24</td>
                  <td>Unloading</td>
                  <td>1</td>
                  <td>10</td>
                  <td>11.8 sec</td>
                </tr>
              </tbody>
            </table>
          </div>
        </div>








      </div>

    </div>




  </div>
  </div>








  <!-- [ Main Content ] end -->

  <!-- Required Js -->
  <script src="{{ url_for('static' , filename='js/vendor-all.min.js') }} "></script>
  <script src="{{ url_for('static' , filename='js/plugins/bootstrap.min.js') }} "></script>
  <!-- <script src="{{ url_for('static' , filename='js/ripple.js') }} "></script> -->
  <script src="{{ url_for('static' , filename='js/pcoded.min.js') }} "></script>

  <script src="https://cdn.jsdelivr.net/npm/flatpickr"></script>



  <script src="https://code.jquery.com/jquery-3.5.1.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/html2pdf.js/0.9.2/html2pdf.bundle.js"></script>
  <script src="https://cdn.datatables.net/1.13.6/js/jquery.dataTables.min.js"></script>
  <script src="https://cdn.datatables.net/buttons/2.4.1/js/dataTables.buttons.min.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/jszip/3.1.3/jszip.min.js"></script>
  <script src="https://cdn.datatables.net/buttons/2.3.6/js/buttons.html5.min.js"></script>
  <!-- custom-chart js -->

  <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
  <script>
    document.addEventListener("DOMContentLoaded", function () {
      // Hide loader when page is fully loaded
      document.getElementById("loadingScreen").style.display = "none";

      // Handle Analytics dropdown toggle (to ensure it opens)
      document.querySelector(".analytics-exclude > a").addEventListener("click", function (event) {
        event.preventDefault(); // Prevent default link behavior
        let submenu = this.nextElementSibling; // Target submenu
        if (submenu && submenu.classList.contains("pcoded-submenu")) {
          submenu.style.display = submenu.style.display === "none" || submenu.style.display === "" ? "block" : "none";
        }
      });

      // Show loader for all links except the Analytics dropdown itself
      document.querySelectorAll(".nav-item a").forEach(function (navLink) {
        navLink.addEventListener("click", function (event) {
          let parentItem = this.closest(".nav-item");

          // If the clicked link is NOT the main Analytics tab, show spinner
          if (!parentItem.classList.contains("analytics-exclude") || this.closest(".pcoded-submenu")) {
            document.getElementById("loadingScreen").style.display = "flex";
          }
        });
      });
    });
  </script>
  <script>
    new Chart(document.getElementById('packageHandleChart'), {
      type: 'line',
      data: {
        labels: [...Array(24).keys()].map(i => i + 1),
        datasets: [{
          label: 'Packages',
          data: [60, 55, 70, 65, 90, 78, 70, 75, 72, 68, 66, 64, 62, 65, 63, 60, 55, 50, 52, 54, 56, 58, 60, 75],
          borderColor: '#36a2eb',
          backgroundColor: 'rgba(54, 162, 235, 0.2)',
          fill: true,
          tension: 0.4
        }]
      }
    });


  </script>

  <script>
    document.addEventListener('DOMContentLoaded', function () {
      var tooltipTriggerList = [].slice.call(document.querySelectorAll('[data-bs-toggle="tooltip"]'))
      tooltipTriggerList.map(function (tooltipTriggerEl) {
        return new bootstrap.Tooltip(tooltipTriggerEl)
      });
    });
  </script>

</body>

</html>