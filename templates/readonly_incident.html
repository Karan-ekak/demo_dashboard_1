<!DOCTYPE html>
<html lang="en">

<head>
    <title>Alert | Ekak</title>
    <!-- HTML5 Shim and Respond.js IE11 support of HTML5 elements and media queries -->
    <!-- WARNING: Respond.js doesn't work if you view the page via file:// -->
    <!--[if lt IE 11]>
    	<script src="https://oss.maxcdn.com/libs/html5shiv/3.7.0/html5shiv.js"></script>
    	<script src="https://oss.maxcdn.com/libs/respond.js/1.4.2/respond.min.js"></script>
    	<![endif]-->
    <!-- Meta -->
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="Ekak Innovation | Argus">
    <meta name="keywords" content="Ekak,Argus,Innovation,EkakInn,ArgusEkak">
    <meta name="author" content="Argus">
    <link rel="shortcut icon" href="{{ url_for('static',filename='favicon.ico')}}">

    <!-- vendor css -->
    <link rel="stylesheet" href="{{ url_for('static' , filename='css/style.css') }}">
    <link rel="stylesheet" href="https://cdn.datatables.net/1.13.4/css/jquery.dataTables.min.css">
    <link rel="stylesheet" href="https://cdn.datatables.net/buttons/2.3.6/css/buttons.dataTables.min.css">
      
    <style>
        tfoot input {
            width: 100%;
            padding: 3px;
            box-sizing: border-box;
        }
    </style>
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Red+Hat+Display:ital,wght@0,430;1,430&display=swap');
        </style>

</head>
<body class=""  style="background-color: #F2F1F1;font-family: 'Red Hat Display', serif;
font-optical-sizing: auto;
font-weight: 430;
font-style: normal;">
	<!-- [ Pre-loader ] start -->
<!--	<div class="loader-bg">-->
<!--		<div class="loader-track">-->
<!--			<div class="loader-fill"></div>-->
<!--		</div>-->
<!--	</div>-->
	<!-- [ Pre-loader ] End -->
	<!-- [ navigation menu ] start -->
	<nav class="pcoded-navbar menu-light ">
		<div class="navbar-wrapper  ">
			<div class="navbar-content scroll-div " >

                <!--            Import from base  -->

                {% include "base_readonly__side_bar.html" %}
			</div>
		</div>
	</nav>
	<!-- [ navigation menu ] end -->
	<!-- [ Header ] start -->
	{% include "base_header.html" %}
	<!-- [ Header ] end -->
	

<!-- [ Main Content ] start -->
<div class="pcoded-main-container">
    <div class="pcoded-content">
        <!-- [ breadcrumb ] start -->
        <div class="page-header">
            <div class="page-block">
                <div class="row align-items-center">
                    <div class="col-md-12">
                        <div class="page-header-title">
                            <h5 class="m-b-10" style="font-size:18px;font-weight:bold">Alert</h5>
                        </div>
                        <ul class="breadcrumb">
                            <li class="breadcrumb-item"><a href="index.html"><i class="feather icon-home"></i></a></li>
                            <li class="breadcrumb-item"><a href="#!">All Alert</a></li>
                        </ul>
                    </div>
                </div>
            </div>
        </div>
        <!-- [ breadcrumb ] end -->
        <!-- [ Main Content ] start -->
        <div class="row">
           
            <div class="col-xl-12">
                <div class="card">
                    
                    <div class="card-header">
                        <h5 class="text-center">Incident List</h5>
                        
                    </div>
                    <div class="card-body table-border-style">
                        <div class="table-responsive">
                            <div class="card-body table-border-style">
                                <div class="table-responsive">
                                    <table class="display table"  id="example">
                                        <tfoot>
                                            <tr>
                                                <th>Priority</th>
                                                <th>Incident List</th>
                                                <th>Category</th>
                                                <th>Date / Time</th>
                                                <th>Assigned Officer</th>
                                                <th>mid</th>
                                                <th>Location</th>
                                                <th>Status</th>
                                                <th>Assigned By </th>
                                                <th>View</th>
                                               
                                            </tr>
                                        </tfoot>
                                        <thead>
                                            <tr>
                                                <th>Priority</th>
                                                <th>Incident ID</th>
                                                <th>Category</th>
                                                <th>Date / Time</th>
                                                <th>Assigned Officer</th>
                                                <th>mid</th>
                                                <th>Location</th>
                                                <th>Status</th>
                                                <th>Assigned By </th>
                                                <th>View</th>
                                                
                                            </tr>
                                        </thead>
                                       
                                        <tbody>
                                            {% if  all_incident %}
                                            {% for item in all_incident %}
                                                <tr>
                                                    <td>
                                                        {% if item[0] == 5 %}
                                                        <span class="badge badge-pill badge-secondary">Low</span></td>
                                                        {% elif item[0] == 3 %}
                                                        <span class="badge badge-pill badge-warning">Medium</span></td>
                                                        {% else %}
                                                        <span class="badge badge-pill badge-danger">High</span></td>
                                                        {% endif %}
                                                        
                                                    <td>INC-{{ item[1] }}</td>
                                                    <td>{{ incident_data["category"][item[2] ] }} </td>
                                                    <td>{{ item[3] | replace('__',' ') |replace('_','-')   }}</td>
                                                    <td>{{ name_id[item[4]]}}</td>
                                                    <td>{{ item[8] }}</td> 
                                                    <td>{{ incident_data["location"][item[5]] }}</td>
                                                    <td>{{ incident_data["status"][item[6]] }}</td>
                                                    <td>{{ name_id[item[7]] }}</td> 
                                                    
                                                    <td>
                                                        
                                                        <a type="button" class="btn  btn-outline-primary" href="{{url_for('incident',incidentId=item[1] )}}">Details</a></td>
                                                    
                                                </tr>
                                                {% endfor %}
                                            
                                            {% else %}
                                            <tr>
                                                <td>Not Found</td>
                                                <td>Not Found</td>
                                                <td>Not Found</td>
                                                <td>Not Found</td>
                                                <td>Not Found</td>
                                                <td>Not Found</td>
                                                <td>Not Found </td>
                                                <td>Not Found</td>
                                                <td>Not Found</td>
                                                <td>Not Found</td>
                                                
                                            </tr>
                                            {% endif %}
                                           
                                        
                                        </tbody>
                                       
                                    </table>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

        </div>
<!-- [ Main Content ] end -->
    <!-- Warning Section start -->
    <!-- Older IE warning message -->
    <!--[if lt IE 11]>
        <div class="ie-warning">
            <h1>Warning!!</h1>
            <p>You are using an outdated version of Internet Explorer, please upgrade
               <br/>to any of the following web browsers to access this website.
            </p>
            <div class="iew-container">
                <ul class="iew-download">
                    <li>
                        <a href="http://www.google.com/chrome/">
                            <img src="assets/images/browser/chrome.png" alt="Chrome">
                            <div>Chrome</div>
                        </a>
                    </li>
                    <li>
                        <a href="https://www.mozilla.org/en-US/firefox/new/">
                            <img src="assets/images/browser/firefox.png" alt="Firefox">
                            <div>Firefox</div>
                        </a>
                    </li>
                    <li>
                        <a href="http://www.opera.com">
                            <img src="assets/images/browser/opera.png" alt="Opera">
                            <div>Opera</div>
                        </a>
                    </li>
                    <li>
                        <a href="https://www.apple.com/safari/">
                            <img src="assets/images/browser/safari.png" alt="Safari">
                            <div>Safari</div>
                        </a>
                    </li>
                    <li>
                        <a href="http://windows.microsoft.com/en-us/internet-explorer/download-ie">
                            <img src="assets/images/browser/ie.png" alt="">
                            <div>IE (11 & above)</div>
                        </a>
                    </li>
                </ul>
            </div>
            <p>Sorry for the inconvenience!</p>
        </div>
    <![endif]-->
    <!-- Warning Section Ends -->

    <!-- Required Js -->
    <script src="{{ url_for('static' , filename='js/vendor-all.min.js') }} "></script>
    <script src="{{ url_for('static' , filename='js/plugins/bootstrap.min.js') }} "></script>
    <!-- <script src="{{ url_for('static' , filename='js/ripple.js') }} "></script> -->
    <script src="{{ url_for('static' , filename='js/pcoded.min.js') }} "></script>





<script src="https://code.jquery.com/jquery-3.5.1.js"></script>
<script src="https://cdn.datatables.net/1.13.4/js/jquery.dataTables.min.js"></script>
     
<script src="https://cdn.datatables.net/buttons/2.3.6/js/dataTables.buttons.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/jszip/3.1.3/jszip.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/pdfmake/0.1.53/pdfmake.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/pdfmake/0.1.53/vfs_fonts.js"></script>
<script src="https://cdn.datatables.net/buttons/2.3.6/js/buttons.html5.min.js"></script>
<!-- custom-chart js -->

<script src="{{ url_for('static' , filename='js/pages/dashboard-main.js' ) }}"></script>

<script>
    $(document).ready(function () {
        // Setup - add a text input to each footer cell
        $('#example tfoot th').each(function () {
            var title = $(this).text();
            $(this).html('<input type="text" class="form-control" placeholder="Search ' + title + '" />');
        });
     
        // DataTable
        var table = $('#example').DataTable({
            dom: 'Bfrtip',
            buttons: [
                'copyHtml5',
                'excelHtml5',
                'csvHtml5',
                'pdfHtml5'
            ],
            initComplete: function ()
            {
            var r = $('#example tfoot tr');
            r.find('th').each(function(){
                $(this).css('padding', 8);
            });
            $('#example thead').append(r);
            $('#search_0').css('text-align', 'center');
            this.api()
            .columns()
            .every(function () {
                var that = this;

                $('input', this.footer()).on('keyup change clear', function () {
                    if (that.search() !== this.value) {
                        that.search(this.value).draw();
                    }
                });
            });
            },
        });
    });
</script>

</body>

</html>
